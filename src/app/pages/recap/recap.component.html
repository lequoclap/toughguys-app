<div class="theme-year-in-sport">
  <div class="recap-header text-center">
    <h1 class="title">YOUR YEAR IN SPORT</h1>
    <p class="subtitle">{{currentYear}}</p>
  </div>

  <div *ngIf="athleteData" class="athlete-card">
    <div class="athlete-info text-center">
      <img [src]="athleteData.athlete.imgURL" class="athlete-avatar" />
      <h2 class="athlete-name">{{athleteData.athlete.name}}</h2>
      <p class="total-distance">{{athleteData.totalDistance/1000 | number:'1.0-1'}} km</p>
      <p class="new-distance" *ngIf="athleteData.totalNewDistance > 0">
        +{{athleteData.totalNewDistance/1000 | number:'1.0-1'}} km new
      </p>
      <p class="total-activities">{{totalSports}} Sports</p>
    </div>

    <div class="top-sports">
      <h3 class="section-title">TOP SPORTS</h3>
      <div class="sports-list">
        <div *ngFor="let sport of sortedSports" class="sport-item" [ngSwitch]="sport.sportType">
          <div class="sport-icon" [ngClass]="sport.sportType.toLowerCase() + '-icon'">
            <fa-icon *ngSwitchCase="'Run'" [icon]="faRun"></fa-icon>
            <fa-icon *ngSwitchCase="'Ride'" [icon]="faRide"></fa-icon>
            <fa-icon *ngSwitchCase="'Hike'" [icon]="faHike"></fa-icon>
            <fa-icon *ngSwitchCase="'Swim'" [icon]="faSwim"></fa-icon>
            <fa-icon *ngSwitchCase="'Snowboard'" [icon]="faSnowboard"></fa-icon>
            <fa-icon *ngSwitchCase="'AlpineSki'" [icon]="faAlpineSki"></fa-icon>
          </div>
          <div class="sport-content">
            <p class="sport-rank">#{{sport.rank}} {{sport.sportType}}</p>
            <p class="sport-distance">{{sport.distance/1000 | number:'1.0-1'}} km</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!athleteData" class="text-center empty-state">
    <p>No data available</p>
  </div>

  <div class="actions-footer">
    <div class="row">
      <div class="col-6 text-start" (click)="onClickPreviousChallenge()">
        <span class="nav-arrow">←</span>
      </div>
      <div class="col-6 text-end" (click)="onClickNextChallenge()">
        <span class="nav-arrow">→</span>
      </div>
    </div>
    <div class="text-center sync-section">
      <p class="error-message">{{ errorMessage }}</p>
      <button class="btn btn-sync" (click)="onSync()">
        <span [class.fa-spin]="isSyncing"><fa-icon [icon]="faSync"></fa-icon></span>
        &nbsp;<span>Sync</span>
      </button>
    </div>
  </div>
</div>